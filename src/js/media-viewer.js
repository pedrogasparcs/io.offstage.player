'use strict';

import React from 'react';
import ReactDOM from 'react-dom';

import s from './../sass/index.scss';

import MediaPlayer from './Components/MediaPlayer';

function isValidUserValue (element, dataKey, defaultValue) {
    if (element.dataset[dataKey] != undefined && element.dataset[dataKey] != "") {
        if(element.dataset[dataKey] == "true") {
            return true;
        }
        else if(element.dataset[dataKey] == "false") {
            return false;
        }
        return element.dataset[dataKey];
    }
    return defaultValue;
}

if(!window.ospl) {
    window.ospl = {};
}
window.ospl.stdRendered = [];

var elements = document.getElementsByClassName('ospl-standard');
var i=0;
for(i=0; i < elements.length; i++) {
    window.ospl.stdRendered.push(
        ReactDOM.render(
            <MediaPlayer
                api-key={isValidUserValue(elements[i], "apikey", "testing")}
                channel={isValidUserValue(elements[i], "channel", "YjY0OnNvbWVyc2J5cHQsdmludGFnZXZpc2V1fHNvbWVyc2J5cHQsdHJhbGhhd2luZWJhcnxzb21lcnNieXB0LOKAjmFscGhhbG91bmdlfHNvbWVyc2J5cHQsZGFuc2ZpbmdlcmZvb2R8c29tZXJzYnlwdCxtb3N0YXJkYWVjaG9jb2xhdGV8c29tZXJzYnlwdCx0d2luZXdpbmViYXJ8c29tZXJzYnlwdCxiaXJhZG9zbmFtb3JhZG9zfHNvbWVyc2J5cHQsb3BvcnRhb3xzb21lcnNieXB0LHRhc2NhZGFtYXJpYXxzb21lcnNieXB0LHNhaWxvcm1hbmFuZGZyaWVuZHN8c29tZXJzYnlwdCxjYXNhZGFndXJpcGF8c29tZXJzYnlwdCxoYW1idXJndWVyaWFkYXZvYW5hfHNvbWVyc2J5cHQsc2FudG9idXJnYXxzb21lcnNieXB0LGNhZmVkYXByYWNhfHNvbWVyc2J5cHQsbXJiaW5ob3N1c2hpfHNvbWVyc2J5cHQscGl6emVyaWE0ZXN0YWNvZXN8c29tZXJzYnlwdCxzb3VuZHdpY2h8c29tZXJzYnlwdCxub3ZhY29wYXxzb21lcnNieXB0LHJpYmJlZWZ3aW5lfHNvbWVyc2J5cHQsd2lzaHJlc3RhdXJhbnRlfHNvbWVyc2J5cHQsdGVtYWtvfHNvbWVyc2J5cHQsY2FmZmU1NXxzb21lcnNieXB0LHBlZWJ6fHNvbWVyc2J5cHQsb3JlY298c29tZXJzYnlwdCxwb3J0YTM1fHNvbWVyc2J5cHQsZmVpdG9yaWFkb3NzZW50aWRvc3xzb21lcnNieXB0LHRhc3F1ZWlyb3NzZW1sZWl8c29tZXJzYnlwdCxoZW1pbmd3YXl8c29tZXJzYnlwdCxhcmRtYXJ8c29tZXJzYnlwdCxncmFvZGFyZWlhfHNvbWVyc2J5cHQsbWFydXNiYXJ8c29tZXJzYnlwdCxiYnZpbGxhZ2FpYXxzb21lcnNieXB0LGNvenp6YXJpb3xzb21lcnNieXB0LGVzdGFzZWJlbXxzb21lcnNieXB0LHNhbnRhZnJhbmNlc2luaGF8c29tZXJzYnlwdCxjYXNhcmliZWlyb3xzb21lcnNieXB0LHZpY2lvc2RlbWVzYXxzb21lcnNieXB0LGZvcm5lcmlhaW52aWN0YXxzb21lcnNieXB0LHBhb3F1ZWxhZHJhZWRlc3RpbGFyaWF8c29tZXJzYnlwdCx6YXphcG9ydG98c29tZXJzYnlwdCxjb3Bvc2VjdXNxdWljZXN8c29tZXJzYnlwdCxiYWl4b3BpdG98c29tZXJzYnlwdCxhcm1hemVtZG9jaGF8c29tZXJzYnlwdCxlc3BpZ2FnYWxlcmlhYmFyfHNvbWVyc2J5cHQscHJlc3RvcGl6emFjZWRvZmVpdGF8c29tZXJzYnlwdCx0YXN0ZXxzb21lcnNieXB0LGNpYW9iZWxsYXBpenphdHJ1ZmF8c29tZXJzYnlwdCxwZXRpc2Nvc3xzb21lcnNieXB0LGJydW5uc2NvZmZlZWRpbmVyfHNvbWVyc2J5cHQsb2NsdWJlZG9oYW1idXJndWVyfHNvbWVyc2J5cHQsdmVzdGlnaXVzfHNvbWVyc2J5cHQsYnVua2VyfHNvbWVyc2J5cHQsZXN0ZW9lc3RlfHNvbWVyc2J5cHQsbWFkYW1lcGV0aXNjYXxzb21lcnNieXB0LHBhb2FtZXNhfHNvbWVyc2J5cHQsaGFtYnVyZ3VlcmlhdHJpYW5ndWxhcnxzb21lcnNieXB0LGhhbWJ1cmd1ZXJpYWRhYXZlbmlkYXxzb21lcnNieXB0LG1vc3N0b3NrYXxzb21lcnNieXB0LHRhcGFzZWxlbmRhc3xzb21lcnNieXB0LHF1aW50YWJ1cmdlcnxzb21lcnNieXB0LHBhcnJpbGxhbmF0dXJhbHxzb21lcnNieXB0LGhpbHRvbnJ1Yml8c29tZXJzYnlwdCxub3NvbG9pdGFsaWFtYXJpbmFhbGJ1ZmVpcmF8c29tZXJzYnlwdCxoYW1idXJndWVyaWFiYnxzb21lcnNieXB0LGJhcm1vcmdhZG98c29tZXJzYnlwdCxwaXp6YXJpYWNvcmVzZXNhYm9yZXN8c29tZXJzYnlwdCxhbWJ1cmdhcmlhZXByZWdhcmlhdHJhZGljaW9uYWx8c29tZXJzYnlwdCxzZWdyZWRvc2RhdGVycmF8c29tZXJzYnlwdCxoYW1idXJndWVyaWFkb3Jpb3xzb21lcnNieXB0LHNlbnRpZG9kb21hcnxzb21lcnNieXB0LGVzdGFtaW5lMTk1NXxzb21lcnNieXB0LHN1c2hpd2l0aGxvdmV8c29tZXJzYnlwdCxsaW1vbmNlbGxvY2hpYWRvfHNvbWVyc2J5cHQsaGFtYnVyZ3VlcmlhaW5zdWxhcnxzb21lcnNieXB0LHN1c2hpcHJpbWV8c29tZXJzYnlwdCxzdXNoaWZhc2hpb258c29tZXJzYnlwdCxyb3lhbG9iaWRvc3xzb21lcnNieXB0LHJhaXplc3BhcnF1ZXxzb21lcnNieXB0LG1hcmF0b25hcmVzdGF1cmFudGV8c29tZXJzYnlwdCxtZXVmYXJuZWx8c29tZXJzYnlwdCx5b3VyaG90ZWxzcGF8c29tZXJzYnlwdCx2aWxsYWJhdGFsaGFob3RlbHxzb21lcnNieXB0LGFyZWlhc2Rlc2Fib3Jlc3xzb21lcnNieXB0LGNvbWZ1c2FvfHNvbWVyc2J5cHQsZmlhZG9yZXN0YXVyYW50ZXxzb21lcnNieXB0LG9idWtlfHNvbWVyc2J5cHQsaGFtYnVyZ3VlcmlhZGF2aWxhfHNvbWVyc2J5cHQsZG9pc3BldGlzY29zfHNvbWVyc2J5cHQsdGFiZXJuYW9iYWxjYW98c29tZXJzYnlwdCxub2FocmVzdGF1cmFudGNsdWJ8c29tZXJzYnlwdCxlc3BhY29jb21waW50YXxzb21lcnNieXB0LHBpenphcmlhc2FvcGVkcm9yaWJhZGF2ZXxzb21lcnNieXB0LHBpenphcmlhZG9iYWlycm98c29tZXJzYnlwdCxzdG9yaWt8c29tZXJzYnlwdCxwYXRlb2RlbGlzYm9hfHNvbWVyc2J5cHQsZGV0dWRvdW1wb3Jjb3xzb21lcnNieXB0LGhhbWJ1cmd1ZXJpYWRhcGFyYWRhfHNvbWVyc2J5cHQsb3RhY2hpbmhvfHNvbWVyc2J5cHQsbWV6emFuaW5lY3JlYXRpdmVyZXN0YXVyYW50")}
                timespan={isValidUserValue(elements[i], "timespan", "0,0")}
                continuous-scroll={isValidUserValue(elements[i], "continuousscroll", true)}
                load-css={isValidUserValue(elements[i], "loadcss", process.env.NODE_ENV == "production")}
                show-filter-bar={isValidUserValue(elements[i], "showfilterbar", true)}
                static-host={process.env.STATIC_HOST}
                css-file={process.env.CSS_FILE}
            />,
            elements[i]
        )
    );
}
/*

 <MediaPlayer
 api-key="testing"
 channel="YjY0OnNvbWVyc2J5cHQsdmludGFnZXZpc2V1fHNvbWVyc2J5cHQsdHJhbGhhd2luZWJhcnxzb21lcnNieXB0LOKAjmFscGhhbG91bmdlfHNvbWVyc2J5cHQsZGFuc2ZpbmdlcmZvb2R8c29tZXJzYnlwdCxtb3N0YXJkYWVjaG9jb2xhdGV8c29tZXJzYnlwdCx0d2luZXdpbmViYXJ8c29tZXJzYnlwdCxiaXJhZG9zbmFtb3JhZG9zfHNvbWVyc2J5cHQsb3BvcnRhb3xzb21lcnNieXB0LHRhc2NhZGFtYXJpYXxzb21lcnNieXB0LHNhaWxvcm1hbmFuZGZyaWVuZHN8c29tZXJzYnlwdCxjYXNhZGFndXJpcGF8c29tZXJzYnlwdCxoYW1idXJndWVyaWFkYXZvYW5hfHNvbWVyc2J5cHQsc2FudG9idXJnYXxzb21lcnNieXB0LGNhZmVkYXByYWNhfHNvbWVyc2J5cHQsbXJiaW5ob3N1c2hpfHNvbWVyc2J5cHQscGl6emVyaWE0ZXN0YWNvZXN8c29tZXJzYnlwdCxzb3VuZHdpY2h8c29tZXJzYnlwdCxub3ZhY29wYXxzb21lcnNieXB0LHJpYmJlZWZ3aW5lfHNvbWVyc2J5cHQsd2lzaHJlc3RhdXJhbnRlfHNvbWVyc2J5cHQsdGVtYWtvfHNvbWVyc2J5cHQsY2FmZmU1NXxzb21lcnNieXB0LHBlZWJ6fHNvbWVyc2J5cHQsb3JlY298c29tZXJzYnlwdCxwb3J0YTM1fHNvbWVyc2J5cHQsZmVpdG9yaWFkb3NzZW50aWRvc3xzb21lcnNieXB0LHRhc3F1ZWlyb3NzZW1sZWl8c29tZXJzYnlwdCxoZW1pbmd3YXl8c29tZXJzYnlwdCxhcmRtYXJ8c29tZXJzYnlwdCxncmFvZGFyZWlhfHNvbWVyc2J5cHQsbWFydXNiYXJ8c29tZXJzYnlwdCxiYnZpbGxhZ2FpYXxzb21lcnNieXB0LGNvenp6YXJpb3xzb21lcnNieXB0LGVzdGFzZWJlbXxzb21lcnNieXB0LHNhbnRhZnJhbmNlc2luaGF8c29tZXJzYnlwdCxjYXNhcmliZWlyb3xzb21lcnNieXB0LHZpY2lvc2RlbWVzYXxzb21lcnNieXB0LGZvcm5lcmlhaW52aWN0YXxzb21lcnNieXB0LHBhb3F1ZWxhZHJhZWRlc3RpbGFyaWF8c29tZXJzYnlwdCx6YXphcG9ydG98c29tZXJzYnlwdCxjb3Bvc2VjdXNxdWljZXN8c29tZXJzYnlwdCxiYWl4b3BpdG98c29tZXJzYnlwdCxhcm1hemVtZG9jaGF8c29tZXJzYnlwdCxlc3BpZ2FnYWxlcmlhYmFyfHNvbWVyc2J5cHQscHJlc3RvcGl6emFjZWRvZmVpdGF8c29tZXJzYnlwdCx0YXN0ZXxzb21lcnNieXB0LGNpYW9iZWxsYXBpenphdHJ1ZmF8c29tZXJzYnlwdCxwZXRpc2Nvc3xzb21lcnNieXB0LGJydW5uc2NvZmZlZWRpbmVyfHNvbWVyc2J5cHQsb2NsdWJlZG9oYW1idXJndWVyfHNvbWVyc2J5cHQsdmVzdGlnaXVzfHNvbWVyc2J5cHQsYnVua2VyfHNvbWVyc2J5cHQsZXN0ZW9lc3RlfHNvbWVyc2J5cHQsbWFkYW1lcGV0aXNjYXxzb21lcnNieXB0LHBhb2FtZXNhfHNvbWVyc2J5cHQsaGFtYnVyZ3VlcmlhdHJpYW5ndWxhcnxzb21lcnNieXB0LGhhbWJ1cmd1ZXJpYWRhYXZlbmlkYXxzb21lcnNieXB0LG1vc3N0b3NrYXxzb21lcnNieXB0LHRhcGFzZWxlbmRhc3xzb21lcnNieXB0LHF1aW50YWJ1cmdlcnxzb21lcnNieXB0LHBhcnJpbGxhbmF0dXJhbHxzb21lcnNieXB0LGhpbHRvbnJ1Yml8c29tZXJzYnlwdCxub3NvbG9pdGFsaWFtYXJpbmFhbGJ1ZmVpcmF8c29tZXJzYnlwdCxoYW1idXJndWVyaWFiYnxzb21lcnNieXB0LGJhcm1vcmdhZG98c29tZXJzYnlwdCxwaXp6YXJpYWNvcmVzZXNhYm9yZXN8c29tZXJzYnlwdCxhbWJ1cmdhcmlhZXByZWdhcmlhdHJhZGljaW9uYWx8c29tZXJzYnlwdCxzZWdyZWRvc2RhdGVycmF8c29tZXJzYnlwdCxoYW1idXJndWVyaWFkb3Jpb3xzb21lcnNieXB0LHNlbnRpZG9kb21hcnxzb21lcnNieXB0LGVzdGFtaW5lMTk1NXxzb21lcnNieXB0LHN1c2hpd2l0aGxvdmV8c29tZXJzYnlwdCxsaW1vbmNlbGxvY2hpYWRvfHNvbWVyc2J5cHQsaGFtYnVyZ3VlcmlhaW5zdWxhcnxzb21lcnNieXB0LHN1c2hpcHJpbWV8c29tZXJzYnlwdCxzdXNoaWZhc2hpb258c29tZXJzYnlwdCxyb3lhbG9iaWRvc3xzb21lcnNieXB0LHJhaXplc3BhcnF1ZXxzb21lcnNieXB0LG1hcmF0b25hcmVzdGF1cmFudGV8c29tZXJzYnlwdCxtZXVmYXJuZWx8c29tZXJzYnlwdCx5b3VyaG90ZWxzcGF8c29tZXJzYnlwdCx2aWxsYWJhdGFsaGFob3RlbHxzb21lcnNieXB0LGFyZWlhc2Rlc2Fib3Jlc3xzb21lcnNieXB0LGNvbWZ1c2FvfHNvbWVyc2J5cHQsZmlhZG9yZXN0YXVyYW50ZXxzb21lcnNieXB0LG9idWtlfHNvbWVyc2J5cHQsaGFtYnVyZ3VlcmlhZGF2aWxhfHNvbWVyc2J5cHQsZG9pc3BldGlzY29zfHNvbWVyc2J5cHQsdGFiZXJuYW9iYWxjYW98c29tZXJzYnlwdCxub2FocmVzdGF1cmFudGNsdWJ8c29tZXJzYnlwdCxlc3BhY29jb21waW50YXxzb21lcnNieXB0LHBpenphcmlhc2FvcGVkcm9yaWJhZGF2ZXxzb21lcnNieXB0LHBpenphcmlhZG9iYWlycm98c29tZXJzYnlwdCxzdG9yaWt8c29tZXJzYnlwdCxwYXRlb2RlbGlzYm9hfHNvbWVyc2J5cHQsZGV0dWRvdW1wb3Jjb3xzb21lcnNieXB0LGhhbWJ1cmd1ZXJpYWRhcGFyYWRhfHNvbWVyc2J5cHQsb3RhY2hpbmhvfHNvbWVyc2J5cHQsbWV6emFuaW5lY3JlYXRpdmVyZXN0YXVyYW50"
 timespan="0,0"
 continuous-scroll={true}
 loadCss={process.env.NODE_ENV == "production"}
 staticHost={process.env.STATIC_HOST}
 cssFile={process.env.CSS_FILE}
 />

 */
// enable availability to the library user
// something like //window.CFRendered.cf_media_standard[0].loadMore(); // set